#!/bin/bash
declare -A morse=(
 # Letters
    [A]=".-"   [B]="-..." [C]="-.-." [D]="-.."  [E]="."    [F]="..-."
    [G]="--."  [H]="...." [I]=".."   [J]=".---" [K]="-.-"  [L]=".-.."
    [M]="--"   [N]="-."   [O]="---"  [P]=".--." [Q]="--.-" [R]=".-."
    [S]="..."  [T]="-"    [U]="..-"  [V]="...-" [W]=".--"  [X]="-..-"
    [Y]="-.--" [Z]="--.."

    # Digits
    [0]="-----" [1]=".----" [2]="..---" [3]="...--" [4]="....-" 
    [5]="....." [6]="-...." [7]="--..." [8]="---.." [9]="----."

    # Special
    [" "]="/"        ["."]=".-.-.-"   [","]="--..--"   ["?"]="..--.." 
    ["!"]="-.-.--"   ["/"]="-..-."    ["("]="-.--."    [")"]="-.--.-"
    ["&"]=".-..."    [":"]="---..."   [";"]="-.-.-."   ["="]="-...-"
    ["+"]=".-.-."    ["-"]="-....-"   ["_"]="..--.-"   ["\""]=".----."
    ["@"]=".--.-.")

read -p "Enter the morse code: " -a msg
if [[ ${#msg[@]} -eq 0 ]];then
	echo "Error:No Input Provided"
	exit 1
fi

decoded_arr=""

for i in "${msg[@]}";do
	for val in "${!morse[@]}";do
	       if [[ "$i" == "${morse[$val]}" ]];then
		       if [[ "$val" == " " ]];then
	       			decoded_arr+=" "
			else
				decoded_arr+="$val"

		       fi
		
	       fi
	done
 	
done

echo $decoded_arr

